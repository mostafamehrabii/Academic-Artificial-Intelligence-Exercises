```markdown
# Recommender System Using PySpark

This project demonstrates how to build a personalized book recommendation system using PySpark. It employs the Alternating Least Squares (ALS) algorithm to generate recommendations based on user ratings for books.

---

## Prerequisites

Ensure you have the following Python packages installed:
- `pyspark`: For distributed data processing and machine learning.
- `numpy`: For numerical computations.
- `pandas`: For data manipulation and analysis.
- `matplotlib` and `seaborn`: For data visualization.
- `sklearn`: For supporting utilities.

Install PySpark using the following command:
```bash
pip install pyspark
```

---

## Workflow Overview

### 1. **Initializing Spark Session**
A Spark session is initialized to enable data processing and the creation of a recommendation model.

### 2. **Data Loading**
The dataset (`Ratings.csv`) contains:
- User IDs
- Book ISBNs
- Book ratings

It is loaded into a Spark DataFrame for processing.

### 3. **Data Preprocessing**
Using the `StringIndexer`:
- Convert categorical book identifiers (ISBNs) into numeric indices.  
  This step is crucial for ALS, which requires numerical input.

### 4. **Model Training**
- Split the data into training (75%) and testing (25%) sets.
- Train the ALS model on the training set.
- Evaluate the model's performance using RMSE (Root Mean Square Error) on the testing set.

### 5. **Recommendation Generation**
- Implement a function `top_books(user_id, n)`:
  - Identifies books the user has not yet rated.
  - Predicts ratings for those books.
  - Recommends the top `n` books based on predicted ratings.

### 6. **Output**
The system outputs:
- Books the user has already rated.
- Books the user might like, ranked by predicted ratings.

---

## Example Usage

To get book recommendations for a specific user:

1. **Prepare the Dataset**
   Upload the `Ratings.csv` file into your environment.

2. **Run the Script**
   Execute the Python script sequentially to train the model.

3. **Generate Recommendations**
   Use the following function to recommend books:
   ```python
   top_books(user_id, n)
   ```
   Example: Recommend 5 books for the user with ID `75149`:
   ```python
   top_books(75149, 5)
   ```

---

## Dataset Description

The dataset contains the following fields:
- `User-ID`: Unique identifier for users.
- `ISBN`: Unique identifier for books.
- `Book-Rating`: User's rating for a book (on a scale of 0 to 10).

You can download the dataset from [this link](https://s32.picofile.com/d/8479862176/4d184cfb-b74d-49ed-969c-ccdf60ddece3/Ratings-csv).

---

## Outputs

The recommendation system provides:
1. **Books the User Has Already Rated**  
   A list of books that the user has previously interacted with.

2. **Books the User Might Like**  
   A ranked list of recommended books, generated by the ALS model based on predicted ratings.

---

## Evaluation

The model's performance is evaluated using RMSE:
- A lower RMSE indicates better prediction accuracy.

---

## Notes

- The dataset must be formatted correctly with the expected fields (`User-ID`, `ISBN`, `Book-Rating`).
- The ALS algorithm may require tuning for optimal performance, such as adjusting parameters like `rank`, `maxIter`, and `regParam`.



```
